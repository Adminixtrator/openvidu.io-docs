<h2 id="section-title">OpenVidu Pro configuration</h2>
<hr>

OpenVidu Pro provides all of [OpenVidu CE configuration parameters](reference-docs/openvidu-config){:target="_blank"}, but also includes some extra parameters of its own.

These properties may be set in the **`.env`** configuration file at OpenVidu Pro installation path (default to `/opt/openvidu`).

| Parameter       | Description                               | Default value                                      |
| --------------- | ----------------------------------------- | -------------------------------------------------- |
| **`OPENVIDU_PRO_LICENSE`** | License key of your OpenVidu Pro account. This parameter is mandatory to launch OpenVidu Pro clusters.<br>**[Sign up now to get your 15 day free trial!](https://openvidu.io/account)** |  |
| **`OPENVIDU_PRO_CLUSTER_ID`**                | Unique identifier of your cluster. Each OpenVidu Server Pro instance corresponds to one cluster. You can launch as many clusters as you want with your license key. Cluster ID will always be stored to disk so restarting OpenVidu Server Pro will keep the same previous cluster ID if this configuration parameter is not given a distinct value | _A random string_ |
| **`OPENVIDU_PRO_CLUSTER_MEDIA_NODES`**       | The desired number of Media Nodes on startup. If there are too many existing Media Nodes on startup, they will be automatically dropped until this number is reached. If there are not enough, more will be automatically launched. This property has effect only on **[AWS deployments](openvidu-pro/deployment/aws/){:target="_blank"}** and if `OPENVIDU_PRO_CLUSTER_AUTOSCALING=false` | **1** |
| **`OPENVIDU_PRO_CLUSTER_AUTOSCALING`**     | Whether to enable or disable autoscaling. With autoscaling the number of Media Nodes will be automatically adjusted according to existing load. This property being true will make property `OPENVIDU_PRO_CLUSTER_MEDIA_NODES` useless (instead will be using the value given to property `OPENVIDU_PRO_CLUSTER_AUTOSCALING_MIN_NODES`) | **false** |
| **`OPENVIDU_PRO_CLUSTER_AUTOSCALING_MAX_NODES`** | If `OPENVIDU_PRO_CLUSTER_AUTOSCALING=true`, the upper limit of Media Nodes that can be reached. Even when the average load exceeds the threshold, no more Media Nodes will be added to cluster | **2** |
| **`OPENVIDU_PRO_CLUSTER_AUTOSCALING_MIN_NODES`** | If `OPENVIDU_PRO_CLUSTER_AUTOSCALING=true`, the lower limit of Media Nodes that can be reached. Even when the average load is inferior to the threshold, no more Media Nodes will be removed from the cluster. This property acts as `OPENVIDU_PRO_CLUSTER_MEDIA_NODES` when autoscaling is enabled | **1** |
| **`OPENVIDU_PRO_CLUSTER_AUTOSCALING_MAX_LOAD`**  | If `OPENVIDU_PRO_CLUSTER_AUTOSCALING=true`, the upper average load threshold that will trigger the addition of a new Media Node. Percentage value (0 min, 100 max) | **70** |
| **`OPENVIDU_PRO_CLUSTER_AUTOSCALING_MIN_LOAD`**  | If `OPENVIDU_PRO_CLUSTER_AUTOSCALING=true`, the lower average load threshold that will trigger the removal of an existing Media Node. Percentage value (0 min, 100 max) | **20** |
| **`OPENVIDU_PRO_CLUSTER_PATH`**              | Path where OpenVidu Server Pro will manage cluster-related files. This includes: looking for custom infrastructure management scripts and storing temporal output files with instances information | **/opt/openvidu/cluster** |
| **`OPENVIDU_PRO_CLUSTER_TEST`**              | If true, OpenVidu Server Pro will perform a quick test on startup to check the clustering features:  it will launch a Media Node, connect to it and finally drop it. OpenVidu Server Pro logs will inform about the test execution in detail. Immediately after finishing the test, OpenVidu Server Pro process **will terminate** with an exit code of 0 if the test was successful and 1 if it failed. This property is extremely useful to test that your OpenVidu Pro deployment is working fine | **false** |
| **`OPENVIDU_PRO_ELASTICSEARCH_HOST`**        | URL where the Elasticsearch service of OpenVidu Pro stack is listening. OpenVidu Pro will send to that URL useful statistics of your sessions. If this parameter is explicitly set to an empty string, OpenVidu Pro will not send any data to Elasticsearch. If it is defined, then it is mandatory that OpenVidu Pro is able to establish a connection to it or start up process will fail. By default OpenVidu Pro deployments have an Elasticsearch installation in localhost | **http://localhost:9200** |
| **`OPENVIDU_PRO_ELASTICSAERCH_MAX_DAYS_DELETE`** | Maximum number of days that Elasticsearch indexes in rollover state will be kept on disk | **0 (no automatic deletion)** |
| **`OPENVIDU_PRO_KIBANA_HOST`**        | URL where the Kibana service of OpenVidu Pro stack is listening. You can visualize Elasticsearch data in Kibana with the default dashboards provided by OpenVidu Pro, or you can create your own dashboards to better fit your necessities. If this parameter is explicitly set to an empty string, OpenVidu Pro will not connect to Kibana. If it is defined, then it is mandatory that OpenVidu Pro is able to establish a connection to it or start up process will fail. By default OpenVidu Pro deployments have a Kibana installation in localhost | **http://localhost:5601** |
| **`OPENVIDU_PRO_STATS_MONITORING_INTERVAL`** | Interval in seconds for CPU, memory and net usage stats gathering in OpenVidu Server Pro Node. Set it to `0` for no gathering at all | **30** |
| **`OPENVIDU_PRO_STATS_WEBRTC_INTERVAL`**     | Interval in seconds for WebRTC stats gathering from Media Nodes WebRTC endpoints. Set it to `0` for no gathering at all | **30** |
| **`OPENVIDU_PRO_RECORDING_STORAGE`** | Where to store recordings. Can be `local` for local storage or `s3` for an AWS S3 bucket. See **[Uploading recordings to AWS S3](advanced-features/recording/#uploading-recordings-to-aws-s3){:target="blank"}** | **local** |
| **`OPENVIDU_PRO_AWS_S3_BUCKET`** | If `OPENVIDU_PRO_RECORDING_STORAGE=s3`, AWS S3 bucket where to store recordings. May include paths to allow navigating folder structures inside the bucket | |
| **`OPENVIDU_PRO_AWS_ACCESS_KEY`** | If `OPENVIDU_PRO_RECORDING_STORAGE=s3`, AWS credentials access key. Must have read and write permissions over the bucket defined in property `OPENVIDU_PRO_AWS_S3_BUCKET`. If not provided, then the internal S3 client will try to use the default AWS credentials of the machine, if available | |
| **`OPENVIDU_PRO_AWS_SECRET_KEY`** | If `OPENVIDU_PRO_RECORDING_STORAGE=s3`, AWS credentials secret key. If not provided, then the internal S3 client will try to use the default AWS credentials of the machine, if available | |
| **`OPENVIDU_PRO_AWS_REGION`** | If `OPENVIDU_PRO_RECORDING_STORAGE=s3`, AWS region in which the S3 bucket is located (e.g. "eu-west-1"). If not provided, the region will try to be discovered automatically, although this is not always possible | |
| **`OPENVIDU_PRO_PRIVATE_IP`** | Private IP of OpenVidu Server Pro Node. Media Nodes will use this property to communicate with OpenVidu Server Pro Node. **This property is optional and as a general rule should remain empty**, as Media Nodes will automatically discover this IP. It is only suitable for **[On Premises deployments](openvidu-pro/deployment/on-premises/){:target="_blank"}** when Media Nodes are not able to autodiscover the IP address for any kind of not contemplated reason |  |
| **`KMS_URIS`** | Array of Media Node URIs (comma separated list of strings) that should be automatically added to the cluster on startup. If any value is provided, then it must be valid and accessible, or OpenVidu will fail to start. This property has effect only on **[On Premises deployments](openvidu-pro/deployment/on-premises/){:target="blank"}**. All of Media Node URIs have the same format: `ws://MEDIA_NODE_IP:8888/kurento`. A possible value for this property for a single Media Node could be `["ws://56.11.23.45:8888/kurento"]` | **[ ]** |

<br>

<!--| **`OPENVIDU_PRO_CLUSTER_ENVIRONMENT`**       | Where is OpenVidu Pro cluster deployed. This way OpenVidu Pro will be able to manage the infrastructure on its own. Can be: [`docker`, `aws`, `on_premise`].<br>This property is not usually intended to be changed. See [Scalability](openvidu-pro/scalability/){:target="_blank"} section to learn more | **docker*** (suitable for development environments) |
| **`OPENVIDU_PRO_CLUSTER_MODE`**              | Mode of cluster management. Can be `auto` (OpenVidu manages Media Nodes on its own. Parameter [`KMS_URIS`](reference-docs/openvidu-config/){:target="_blank"} is ignored) or `manual` (user must manage Media Nodes. Parameter [`KMS_URIS`](reference-docs/openvidu-config/){:target="_blank"} is used: if any uri is provided it must be valid) | **auto** | -->